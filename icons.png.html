<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Generate PWA icons (192 & 512)</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;padding:20px;background:#f6f8fb}
    .card{background:white;padding:18px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.06);max-width:720px}
    h1{margin-top:0;font-size:20px}
    .row{display:flex;gap:12px;align-items:center;margin-top:12px}
    canvas{border-radius:12px}
    button{padding:8px 12px;border-radius:8px;border:none;background:#0b84ff;color:white;cursor:pointer}
    small{color:#666;display:block;margin-top:8px}
  </style>
</head>
<body>
  <div class="card">
    <h1>Icon generator — create AR icons</h1>
    <div>Generates two PNG icons (192×192 and 512×512). Click the buttons to download the PNG files.</div>

    <div class="row" style="margin-top:18px">
      <div>
        <canvas id="c192" width="192" height="192"></canvas>
        <div style="text-align:center"><button id="dl192">Download 192×192 PNG</button></div>
      </div>

      <div>
        <canvas id="c512" width="512" height="512"></canvas>
        <div style="text-align:center"><button id="dl512">Download 512×512 PNG</button></div>
      </div>
    </div>

    <small>Tip: After downloading, upload both files into your repo under the path <code>icons/icon-192.png</code> and <code>icons/icon-512.png</code>.</small>
  </div>

<script>
function drawIcon(canvas, size){
  const ctx = canvas.getContext('2d');
  // background gradient
  const g = ctx.createLinearGradient(0,0,size,size);
  g.addColorStop(0,'#7c3aed');
  g.addColorStop(1,'#0b84ff');
  ctx.fillStyle = g;
  ctx.fillRect(0,0,size,size);

  // rounded inner rectangle
  const r = size * 0.12;
  ctx.fillStyle = 'rgba(255,255,255,0.10)';
  roundRect(ctx, size*0.06, size*0.06, size*0.88, size*0.88, r, true, false);

  // text AR
  ctx.fillStyle = '#fff';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'middle';
  // pick font size based on canvas
  const fontSize = Math.floor(size * 0.45);
  ctx.font = '700 ' + fontSize + 'px sans-serif';
  ctx.fillText('AR', size/2, size/2 + Math.floor(size*0.02));
}

function roundRect(ctx, x, y, w, h, r, fill, stroke){
  if (typeof stroke === 'undefined') stroke = true;
  if (typeof r === 'undefined') r = 5;
  if (typeof r === 'number') {
    r = {tl: r, tr: r, br: r, bl: r};
  } else {
    var defaultRadius = {tl: 0, tr: 0, br: 0, bl: 0};
    for (var side in defaultRadius) {
      r[side] = r[side] || defaultRadius[side];
    }
  }
  ctx.beginPath();
  ctx.moveTo(x + r.tl, y);
  ctx.lineTo(x + w - r.tr, y);
  ctx.quadraticCurveTo(x + w, y, x + w, y + r.tr);
  ctx.lineTo(x + w, y + h - r.br);
  ctx.quadraticCurveTo(x + w, y + h, x + w - r.br, y + h);
  ctx.lineTo(x + r.bl, y + h);
  ctx.quadraticCurveTo(x, y + h, x, y + h - r.bl);
  ctx.lineTo(x, y + r.tl);
  ctx.quadraticCurveTo(x, y, x + r.tl, y);
  ctx.closePath();
  if (fill) ctx.fill();
  if (stroke) ctx.stroke();
}

document.addEventListener('DOMContentLoaded', ()=>{
  const c192 = document.getElementById('c192');
  const c512 = document.getElementById('c512');
  drawIcon(c192, 192);
  drawIcon(c512, 512);

  document.getElementById('dl192').addEventListener('click', ()=>{
    const url = c192.toDataURL('image/png');
    downloadDataUrl(url, 'icon-192.png');
  });
  document.getElementById('dl512').addEventListener('click', ()=>{
    const url = c512.toDataURL('image/png');
    downloadDataUrl(url, 'icon-512.png');
  });
});

function downloadDataUrl(dataUrl, filename){
  const a = document.createElement('a');
  a.href = dataUrl;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  a.remove();
}
</script>
</body>
</html>
